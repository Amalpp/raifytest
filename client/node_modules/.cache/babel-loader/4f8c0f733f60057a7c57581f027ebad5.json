{"ast":null,"code":"var _jsxFileName = \"/home/amal/Desktop/machineTest/client/src/components/login/Login.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport { Grid } from '@material-ui/core';\nimport { useHistory } from \"react-router\";\nimport axios from \"axios\";\nimport './Login.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const [Login, setLogin] = useState();\n  const [LoginStatus, setLoginStatus] = useState(false);\n\n  function changeHandler(event) {\n    setLogin({ ...Login,\n      [event.target.name]: event.target.value\n    });\n    console.log(Login);\n  }\n\n  const history = useHistory();\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    axios({\n      method: \"post\",\n      url: \"http://localhost:5000/login\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Origin\": \"*\"\n      },\n      data: Login\n    }).then(response => {\n      if (!response.data.auth) {\n        // console.log(\"oo\",LoginStatus);\n        setLoginStatus(false);\n\n        if (response.data.wrong) {\n          document.getElementById('loginError').innerHTML = \"Invalid username or password\";\n        } else if (response.data.notUser) {\n          document.getElementById('loginError').innerHTML = \"User not valid\";\n        }\n      } else {\n        setLoginStatus(true);\n        console.log('wr', response.data);\n        localStorage.setItem(\"token\", response.data.token);\n        localStorage.setItem('userId', response.data.userId); // localStorage.setItem('username', response.data)\n\n        localStorage.setItem('username', response.data.user.username);\n        history.push('/stocks');\n      }\n    });\n  };\n\n  useEffect(() => {\n    let token = localStorage.getItem('token');\n    console.log(\"effect...\", token);\n\n    if (token) {\n      history.push('/stocks');\n    }\n  });\n  const paperStyle = {\n    padding: 20,\n    height: \"20rem\",\n    width: 300,\n    margin: \"20px auto\",\n    backgroundColor: \"#fdfffc\",\n    boxShadow: \"rgba(0, 0, 0, 0.35) 0onChange={changeHandler} px 5px 15px\"\n  };\n  const btStyle = {\n    margin: \"10px 0px\",\n    marginRight: '0px',\n    borderRadius: \"20px\",\n    backgroundColor: \"#061732 \",\n    marginLeft: \"0px\",\n    color: \"#FFFFFF\"\n  };\n  document.body.style = 'background: #F6F6F6 ';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        style: {\n          position: \"absolute\",\n          top: \"50%\",\n          left: \"50%\",\n          transform: 'translate(-50%, -50%)'\n        },\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          elavation: 10,\n          style: paperStyle,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Sign in\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-group mb-3\",\n            style: {\n              marginTop: \"43px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"input-group-text email-icon\",\n              id: \"basic-addon1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"name\",\n              onChange: changeHandler,\n              name: \"username\",\n              className: \"form-control reset-email-input\",\n              placeholder: \"Username\",\n              \"aria-label\": \"Username\",\n              \"aria-describedby\": \"basic-addon1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-group mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"input-group-text email-icon\",\n              id: \"basic-addon1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              id: \"password\",\n              onChange: changeHandler,\n              name: \"password\",\n              className: \"form-control reset-email-input\",\n              placeholder: \"password\",\n              \"aria-label\": \"password\",\n              \"aria-describedby\": \"basic-addon1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            id: \"loginError\",\n            className: \"text-center\",\n            style: {\n              color: \"red\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            style: btStyle,\n            variant: \"contained\",\n            children: \"sign in\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"+XkG5Y03WCNqMtpaI41KVMUQ1gI=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/home/amal/Desktop/machineTest/client/src/components/login/Login.jsx"],"names":["React","useState","useEffect","Paper","Grid","useHistory","axios","Login","setLogin","LoginStatus","setLoginStatus","changeHandler","event","target","name","value","console","log","history","handleSubmit","e","preventDefault","method","url","headers","data","then","response","auth","wrong","document","getElementById","innerHTML","notUser","localStorage","setItem","token","userId","user","username","push","getItem","paperStyle","padding","height","width","margin","backgroundColor","boxShadow","btStyle","marginRight","borderRadius","marginLeft","color","body","style","position","top","left","transform","marginTop"],"mappings":"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","sourcesContent":["import React, { useState,useEffect } from 'react'\nimport Paper from '@material-ui/core/Paper';\nimport { Grid } from '@material-ui/core';\nimport { useHistory } from \"react-router\";\nimport axios from \"axios\"\nimport './Login.css'\n\n\n\n\nconst Login = () => {\n  const [Login, setLogin] = useState();\n  const [LoginStatus, setLoginStatus] = useState(false)\n\n  function changeHandler(event) {\n    setLogin({\n      ...Login,\n      [event.target.name]: event.target.value,\n    });\n    console.log(Login);\n  }\n  const history = useHistory();\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    axios({\n      method: \"post\",\n      url: \"http://localhost:5000/login\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Origin\": \"*\",\n      },\n      data: Login,\n    })\n    .then((response) => {\n      if(!response.data.auth){\n        // console.log(\"oo\",LoginStatus);\n        setLoginStatus(false)\n        if(response.data.wrong){\n          document.getElementById('loginError').innerHTML = \"Invalid username or password\"\n        }else if(response.data.notUser){\n          document.getElementById('loginError').innerHTML = \"User not valid\"\n        }\n        \n      }else{\n        setLoginStatus(true)\n        console.log('wr',response.data)\n        localStorage.setItem(\"token\", response.data.token)\n        localStorage.setItem('userId', response.data.userId)\n        // localStorage.setItem('username', response.data)\n        localStorage.setItem('username', response.data.user.username)\n        history.push('/stocks');\n      }\n    })\n  };\n\n  useEffect(() => {\n    let token = localStorage.getItem('token')\n    \n    console.log(\"effect...\",token);\n\n      if(token){\n          history.push('/stocks')\n      } \n\n    })\n\n\n  const paperStyle = {\n    padding: 20,\n    height: \"20rem\",\n    width: 300,\n    margin: \"20px auto\",\n    backgroundColor: \"#fdfffc\",\n    boxShadow: \"rgba(0, 0, 0, 0.35) 0onChange={changeHandler} px 5px 15px\"\n\n  };\n  const btStyle = {\n    margin: \"10px 0px\",\n    marginRight: '0px',\n    borderRadius: \"20px\",\n    backgroundColor: \"#061732 \",\n    marginLeft: \"0px\",\n    color: \"#FFFFFF\",\n\n  }\n\n  document.body.style = 'background: #F6F6F6 ';\n  return (\n    <div  >\n      <form onSubmit={handleSubmit}>\n        <Grid style={{ position: \"absolute\", top: \"50%\", left: \"50%\", transform: 'translate(-50%, -50%)' }}>\n          <Paper elavation={10} style={paperStyle}>\n            <h3>Sign in</h3>\n\n\n            <div className=\"input-group mb-3\" style={{ marginTop: \"43px\" }}>\n              <span className=\"input-group-text email-icon\" id=\"basic-addon1\"></span>\n              <input type=\"text\" id=\"name\" onChange={changeHandler} name=\"username\" className=\"form-control reset-email-input\" placeholder=\"Username\" aria-label=\"Username\" aria-describedby=\"basic-addon1\" />\n\n            </div>\n            <div className=\"input-group mb-3\" >\n              <span className=\"input-group-text email-icon\" id=\"basic-addon1\"></span>\n              <input type=\"password\" id=\"password\" onChange={changeHandler} name=\"password\" className=\"form-control reset-email-input\" placeholder=\"password\" aria-label=\"password\" aria-describedby=\"basic-addon1\" />\n            </div>\n            <p id=\"loginError\" className=\"text-center\" style={{color: \"red\"}}></p>\n            <button type=\"submit\" style={btStyle} variant=\"contained\">sign in</button>\n\n          </Paper>\n        </Grid>\n      </form>\n\n    </div>\n  )\n}\n\nexport default Login\n"]},"metadata":{},"sourceType":"module"}